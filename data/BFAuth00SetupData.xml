<?xml version="1.0" encoding="UTF-8"?>
<entity-facade-xml type="seed-initial">
 <moqui.security.UserGroup userGroupId="BF-AUTH" description="BF Auth API Users" groupTypeEnumId="UgtRemoteSystems"/>
 <moqui.security.UserGroupPermission userGroupId="BF-AUTH" userPermissionId="ADMIN_PASSWORD" fromDate="0"/>

 <moqui.security.ArtifactGroup artifactGroupId="BF-AUTH" description="?">
  <moqui.security.ArtifactGroupMember artifactName="/bf-auth" nameIsPattern="N" artifactTypeEnumId="AT_REST_PATH" inheritAuthz="Y"/>
  <moqui.security.ArtifactGroupMember artifactName="bf.auth.AuthServices.get#Me" nameIsPattern="N" artifactTypeEnumId="AT_SERVICE" inheritAuthz="Y"/>
  <moqui.security.ArtifactGroupMember artifactName="bf.auth.AuthServices.create#Account" nameIsPattern="N" artifactTypeEnumId="AT_SERVICE" inheritAuthz="Y"/>
  <moqui.security.ArtifactGroupMember artifactName="bf.auth.AuthServices.attach#Account" nameIsPattern="N" artifactTypeEnumId="AT_SERVICE" inheritAuthz="Y"/>
  <moqui.security.ArtifactGroupMember artifactName="bf.auth.AuthServices.send#EmailLogin" nameIsPattern="N" artifactTypeEnumId="AT_SERVICE" inheritAuthz="Y"/>
  <moqui.security.ArtifactGroupMember artifactName="bf.auth.AuthServices.verify#EmailLogin" nameIsPattern="N" artifactTypeEnumId="AT_SERVICE" inheritAuthz="Y"/>
  <moqui.security.ArtifactGroupMember artifactName="bf.auth.KeycloakServices.import#KeycloakUser" nameIsPattern="N" artifactTypeEnumId="AT_SERVICE" inheritAuthz="Y"/>
  <moqui.security.ArtifactAuthz artifactAuthzId="BF-AUTH-ADMIN" userGroupId="BF-AUTH" authzTypeEnumId="AUTHZT_ALWAYS" authzActionEnumId="AUTHZA_ALL"/>
 </moqui.security.ArtifactGroup>
 <!--


	<artifactGroups artifactGroupId="BFAUTH_API" description="BF Auth REST API">
		<artifacts artifactTypeEnumId="AT_REST_PATH" artifactName="/mantle" inheritAuthz="Y"/>
		<authz artifactAuthzId="MANTLE_API_ADMIN" userGroupId="ADMIN" authzTypeEnumId="AUTHZT_ALWAYS" authzActionEnumId="AUTHZA_ALL"/>
	</artifactGroups>

    <artifactGroups artifactGroupId="MANTLE_MY_API" description="Mantle My Info REST API">
             <artifacts artifactTypeEnumId="AT_REST_PATH" artifactName="/mantle/my" inheritAuthz="Y"/>
                     <authz artifactAuthzId="MANTLE_MY_API_ALL" userGroupId="ALL_USERS" authzTypeEnumId="AUTHZT_ALLOW" authzActionEnumId="AUTHZA_ALL"/>
    </artifactGroups>


/bf-auth
 /connect GET/READ
 /me GET/READ
 /account POST/CREATE
 /account PUT/UPDATE
 /emailLogin POST/CREATE
 /emailLogin/:id GET/READ

    <resource name="connect" require-authentication="anonymous-all">
        <method type="get" require-authentication="anonymous-all">
            <service name="bf.auth.AuthServices.connect" require-authentication="anonymous-all"/>
        </method>
    </resource>

    <resource name="me">
        <method type="get">
            <service name="bf.auth.AuthServices.get#Me"/>
        </method>
    </resource>

    <resource name="account">
        <method type="post">
            <service name="bf.auth.AuthServices.create#Account"/>
        </method>
        <method type="put" require-authentication="anonymous-all">
            <service name="bf.auth.AuthServices.attach#Account"/>
        </method>
    </resource>

    <resource name="emailLogin" require-authentication="anonymous-all">
        <method type="post" require-authentication="anonymous-all">
            <service name="bf.auth.AuthServices.send#EmailLogin" require-authentication="anonymous-all"/>
        </method>
        <id name="hash">
            <method type="get" require-authentication="anonymous-all">
                <service name="bf.auth.AuthServices.verify#EmailLogin" require-authentication="anonymous-all"/>
            </method>
        </id>
    </resource>
 -->
 <!--
    <moqui.basic.EnumerationType description="PassportJS Provider" enumTypeId="PJSContactMech"/>
    <moqui.basic.Enumeration description="PassportJS Provider" enumId="PJSContactMech" enumTypeId="ContactMechType" parentEnumId="CmtElectronicAddress"/>
    <moqui.basic.Enumeration description="Facebook" enumCode="facebook" enumId="PJS_FACEBOOK" enumTypeId="PJSContactMech" parentEnumId="PJSContactMech"/>
    <mantle.party.contact.ContactMechPurpose description="Authentication" contactMechPurposeId="BF_AUTH" contactMechTypeEnumId="PJSContactMech"/>
-->
</entity-facade-xml>
